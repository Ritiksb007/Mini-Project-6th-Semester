# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy Preview to Firebase Hosting on PR

on:
  pull_request:

jobs:
  build_and_preview:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      # Build step (adjust based on your project setup)
      - name: Build (replace with your specific build command)
        run: |  # Multi-line command support
          # Example build command for a React project (replace with your actual command)
          npm install
          npm run build

      - uses: FirebaseExtended/action-hosting-deploy@v0  # Assuming you've installed the action
        with:
          repoToken: ${{ secrets.GITHUB_TOKEN }}
          firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_STDPERFORMANCE_BF994 }}
          projectId: stdperformance-bf994
          channelId: preview  # Deploy to a preview channel
          # Optional: Set a custom preview URL prefix (replace with your desired prefix)
          # previewDomain: my-preview-domain.com
